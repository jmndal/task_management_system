{{ define "title" }}
<title>{{ .Title }} | Task Management System</title>
{{ end }}

{{ define "style" }}
<!-- Select2 CSS -->
<link rel="stylesheet" href="/static/assets/css/select2.min.css">
<link rel="stylesheet" href="/static/assets/css/all.min.css">
{{ end }}

{{ define "content" }}
<main id="main" class="main">

  <div class="pagetitle">
    <h1>Create Task</h1>
    <nav>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/dashboard">Home</a></li>
        <li class="breadcrumb-item"><a href="/tms/create_task">Create Task</a></li>
      </ol>
    </nav>
  </div><!-- End Page Title -->

  <section class="section profile">
    <div class="container">
      <div class="row justify-content-center">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Create Task</h5>

            <!-- Floating Labels Form -->
            <form id="taskForm" class="row g-3 needs-validation" novalidate>
              <div class="col-md-12">
                <div class="form-floating has-validation">
                  <select class="form-select select2" id="member" name="member[]" required aria-label="Member" multiple>
                    <option>—</option>
                    {{ range .Employee }}
                    <option value="{{ .ID }}">{{ .FirstName }} {{ .LastName }}</option>
                    {{ end }}
                  </select>
                  <label for="member">Member</label>
                  <div class="invalid-feedback">Please, choose the member/s!</div>
                </div>
              </div>              
              
              <div class="col-md-12">
                <div class="form-floating has-validation">
                  <input type="text" class="form-control" name="title" id="title" placeholder="Title" required>
                  <label for="title">Title</label>
                  <div class="invalid-feedback">Please, enter your title!</div>
                </div>
              </div>

              <div class="col-12">
                <div class="form-floating has-validation">
                  <textarea class="form-control" placeholder="Description" name="description" id="description" style="height: 100px;" required></textarea>
                  <label for="description">Description</label>
                  <div class="invalid-feedback">Please, enter your description!</div>
                </div>
              </div>

              <div class="col-md-4">
                <div class="form-floating has-validation">
                    <input type="date" class="form-control" name="due_date" id="due_date" required>
                    <label for="due_date">Due Date</label>
                    <div class="invalid-feedback">Please, choose the due date!</div>
                </div>
              </div>
              
              <div class="col-md-4">
                <div class="form-floating has-validation">
                  <select class="form-select" id="priority_level" name="priority_level" required aria-label="Priority Level">
                    <option value="" disabled selected>—</option>
                    <option value="1">Low</option>
                    <option value="2">Medium</option>
                    <option value="3">High</option>
                  </select>
                  <label for="priority_level">Priority Level</label>
                  <div class="invalid-feedback">Please, choose the priority level!</div>
                </div>
              </div>

              <div class="col-md-4">
                <div class="form-floating has-validation">
                  <select class="form-select" id="status" name="status" required aria-label="Status">
                    <option value="" disabled selected>—</option>
                    <option value="1">To Do</option>
                    <option value="2">In Progress</option>
                    <option value="3">Done</option>
                  </select>
                  <label for="status">Status</label>
                  <div class="invalid-feedback">Please, choose the status!</div>
                </div>
              </div>

              <div class="text-center">
                <button type="submit" class="btn btn-primary">Submit</button>
                <button type="reset" class="btn btn-secondary">Reset</button>
              </div>
            </form><!-- End floating Labels Form -->

          </div>
        </div>

      </div>
    </div>
  </section>

</main><!-- End #main -->
{{ end }}

{{ define "script" }}
<!-- Select2 JS -->
<script src="/static/assets/js/cdn/jquery-3.6.0.min.js"></script>
<script src="/static/assets/js/cdn/select2.min.js"></script>
<script src="/static/assets/js/create_task.js"></script>
{{ end }}